(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71da63e8"],{"14b6":function(e,t,a){},"24c1":function(e,t,a){},"47d4":function(e,t,a){"use strict";a("14b6")},"48e3":function(e,t,a){"use strict";a("8116")},8116:function(e,t,a){},8147:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a("b775");function n(e){return Object(s["a"])({url:"/",method:"post",data:{param:e,module:"upgrade",api:"upgrade"}})}},"93e9":function(e,t,a){"use strict";a("dc03")},"99f3":function(e,t,a){},a371:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"root"},[a("span",{staticClass:"title"},[e._v("Flash operations")]),a("NXHTabIndex",{attrs:{tabs:e.tabs},scopedSlots:e._u([{key:"tab",fn:function(e){var t=e.tab;return[a(t.name,{tag:"component"})]}}]),model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}}),a("br")],1)},n=[],o=a("b5f4"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"root"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Factory Defaults")])]),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"},[e._v("Revert all the configuration to factory default.")]),a("div",{staticClass:"field-value"})]),a("div",{staticClass:"opt-btn-wrapper"},[a("el-button",{attrs:{type:"danger"},on:{click:e.RestoreFactory}},[e._v("Factory Restore")])],1)])])],1)},l=[],c=a("8593"),r={name:"RestoreTab",methods:{RestoreFactory:function(){var e=this;this.$confirm("Really reset all changes","",{confirmButtonText:" OK ",cancelButtonText:"Cancel",type:"warning"}).then((function(){var t=e.$loading({lock:!0,text:"Saving...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["a"])({}).then((function(a){t.close(),e.$message.success("success")})).catch((function(){t.close()}))})).catch((function(){}))}}},d=r,u=(a("47d4"),a("2877")),p=Object(u["a"])(d,i,l,!1,null,"19dbd124",null),f=p.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"root"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Backup")])]),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"},[e._v("Click Backup to save a copy of your current settings. It is recommended to back up your settings before changing configurations or upgrading firmware. ")])]),a("div",{staticClass:"opt-btn-wrapper"},[a("el-button",{attrs:{type:"primary"},on:{click:e.SysBackup}},[e._v("Backup")])],1)])]),a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Restore")])]),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"},[e._v("Restore saved settings from a file.")])]),a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"},[e._v("File: "+e._s(e.alreadyFileName))]),a("div",{staticClass:"field-value"},[a("el-upload",{staticClass:"upload-demo",attrs:{"show-file-list":!1,action:e.uploadURL,name:"filedata",multiple:!1,limit:1,data:e.uploadData,"on-success":e.onFileUploadSuccess,"on-error":e.onFileUploadFail,"on-change":e.onFileChange}},[a("el-button",{attrs:{type:"primary"}},[e._v("Upload")])],1)],1)]),a("div",{staticClass:"opt-btn-wrapper"},[a("el-button",{attrs:{type:"danger"},on:{click:e.SysRestore}},[e._v("Restore")])],1)])])],1)},h=[],g=(a("b0c0"),a("5f87")),m={name:"BackupTab",data:function(){return{alreadyFileName:"",uploadURL:"https://jsonplaceholder.typicode.com/posts/"}},computed:{uploadData:function(){return{sessionid:Object(g["a"])()}}},methods:{onFileChange:function(e,t){"ready"===e.status?this.alreadyFileName=e.name:"fail"===e.status&&(this.alreadyFileName="")},onFileUploadFail:function(e,t,a){this.$message.error("upload failed：network error")},onFileUploadSuccess:function(e,t,a){0!=e.errcode&&this.$message.error("upload failed")},SysBackup:function(){var e=this,t=this.$loading({lock:!0,text:"Saving...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["f"])({}).then((function(a){t.close(),console.log(a.filename);var s="http://"+window.location.hostname+"/"+a.filename;window.open(s),e.$message.success("success")})).catch((function(){t.close()}))},SysRestore:function(){var e=this;this.$confirm("Really restore?","",{confirmButtonText:" OK ",cancelButtonText:"Cancel",type:"warning"}).then((function(){var t=e.$loading({lock:!0,text:"Saving...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["g"])({}).then((function(a){t.close(),e.$message.success("success")})).catch((function(){t.close()}))})).catch((function(){}))}}},b=m,y=(a("93e9"),Object(u["a"])(b,v,h,!1,null,"391eff70",null)),w=y.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"root"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Factory Defaults")])]),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"},[e._v("Reboot")]),a("div",{staticClass:"field-value"})]),a("div",{staticClass:"opt-btn-wrapper"},[a("el-button",{attrs:{type:"danger"},on:{click:e.reboot}},[e._v("Reboot")])],1)])])],1)},_=[],k={name:"RebootTab",methods:{reboot:function(){var e=this;this.$confirm("Really reboot?","",{confirmButtonText:" OK ",cancelButtonText:"Cancel",type:"warning"}).then((function(){var t=e.$loading({lock:!0,text:"Rebooting...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["e"])({}).then((function(a){t.close(),e.$message.success("success")})).catch((function(){t.close()}))})).catch((function(){}))}}},F=k,x=(a("48e3"),Object(u["a"])(F,C,_,!1,null,"06898420",null)),R=x.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"root"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Firmware Upgrade")])]),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"},[e._v("Firmware Version:")]),a("div",{staticClass:"field-value"},[e._v(" "+e._s(e.soft_version)+" ")])]),a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"},[e._v("Hardware Version:")]),a("div",{staticClass:"field-value"},[e._v(" "+e._s(e.hw_name)+" ")])]),a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"},[e._v("New Firmware File:")]),a("div",{staticClass:"field-value",staticStyle:{display:"flex","flex-direction":"column"}},[a("el-upload",{staticClass:"upload-demo",attrs:{"show-file-list":!1,action:e.uploadURL,name:"filedata",multiple:!1,limit:1,data:e.uploadData,"on-success":e.onFileUploadSuccess,"on-error":e.onFileUploadFail,"on-change":e.onFileChange,"on-progress":e.onProgress}},[a("el-button",{attrs:{type:"primary"}},[e._v(e._s(e.uploadBtnText))])],1)],1)]),e.alreadyFileName?a("div",{staticClass:"field-row"},[a("div",{staticClass:"field-key"}),a("div",{staticClass:"field-value",staticStyle:{display:"flex","flex-direction":"column"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.alreadyFileName))]),a("el-progress",{staticStyle:{width:"50%"},attrs:{percentage:e.uploadPercentage}})],1)]):e._e(),a("div",{staticClass:"opt-btn-wrapper"},[a("el-button",{attrs:{type:"danger",disabled:!e.canUpgrade},on:{click:e.SysUpgrade}},[e._v("Upgrade")])],1)])])],1)},T=[],$=(a("a9e3"),a("8147")),B="//"+window.location.hostname+"/cgi-bin/nhxcgi",S={name:"UpgradeTab",data:function(){return{uploadURL:B,soft_version:"1.0.0",hw_name:"NHX",alreadyFileName:"",uploadPercentage:0,uploadBtnText:"Upload",canUpgrade:!1}},computed:{uploadData:function(){return{sessionid:Object(g["a"])()}}},mounted:function(){var e=this;Object(c["c"])({}).then((function(t){e.hw_name=t.name,e.soft_version=t.soft_version}))},methods:{SysUpgrade:function(){var e=this;this.alreadyFileName?this.$confirm("Really Upgrade?","",{confirmButtonText:" OK ",cancelButtonText:"Cancel",type:"warning"}).then((function(){var t=e.$loading({lock:!0,text:"Saving...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object($["a"])({}).then((function(a){t.close(),e.$message.success("success")})).catch((function(){t.close()}))})).catch((function(){})):this.$message.error("Please upload new firmware file first")},onFileChange:function(e,t){"ready"===e.status?this.alreadyFileName=e.name:"fail"===e.status&&(this.alreadyFileName="",this.uploadPercentage=0)},onProgress:function(e,t,a){console.log("file.percentage",t.percentage),this.uploadPercentage=Math.round(Number(t.percentage))},onFileUploadFail:function(e,t,a){this.canUpgrade=!1,this.$message.error("upload failed：network error"),this.uploadBtnText="Upload"},onFileUploadSuccess:function(e,t,a){console.log("onFileUploadSuccess"),this.uploadBtnText="Re-upload",0!=e.errcode?this.$message.error("upload failed"):(this.uploadPercentage=100,this.canUpgrade=!0)}}},N=S,O=(a("fabf"),Object(u["a"])(N,U,T,!1,null,"8d54f1e8",null)),j=O.exports,P={name:"FlashIndex",components:{NXHTabIndex:o["a"],RestoreTab:f,BackupTab:w,RebootTab:R,UpgradeTab:j},data:function(){return{activeName:"RestoreTab",tabs:[{label:"Factory Default Restore",name:"RestoreTab"},{label:"BackUp Restore",name:"BackupTab"},{label:"Reboot",name:"RebootTab"},{label:"Firmware Upgrade",name:"UpgradeTab"}]}}},D=P,E=(a("e9c5"),Object(u["a"])(D,s,n,!1,null,"361d8352",null));t["default"]=E.exports},dc03:function(e,t,a){},e9c5:function(e,t,a){"use strict";a("99f3")},fabf:function(e,t,a){"use strict";a("24c1")}}]);