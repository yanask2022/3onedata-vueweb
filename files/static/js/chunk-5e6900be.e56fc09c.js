(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e6900be"],{"23eb":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"root"},[s("br"),s("el-card",{attrs:{shadow:"never"}},[s("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"},attrs:{slot:"header"},slot:"header"},[s("span",[t._v("redirect edit")]),t.$route.params.isNew?s("el-button",{staticClass:"reset-btn",attrs:{size:"small"},on:{click:t.onSave}},[t._v(" Save ")]):t._e()],1),s("div",{staticClass:"card-panel-editable-content-wrapper"},[s("div",{staticClass:"field-row",class:{highlight:"enabled"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("Enable")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-checkbox",{attrs:{"true-label":"0","false-label":"1"},model:{value:t.settings.enabled,callback:function(e){t.$set(t.settings,"enabled",e)},expression:"settings.enabled"}})],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"proto"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("protocol")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:t.settings.proto,callback:function(e){t.$set(t.settings,"proto",e)},expression:"settings.proto"}},[s("el-option",{attrs:{value:"tcpudp",label:"TCP+UDP"}}),s("el-option",{attrs:{value:"tcp",label:"TCP"}}),s("el-option",{attrs:{value:"udp",label:"UDP"}})],1)],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"src_ip"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("src_ip")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-input",{attrs:{sizi:"small"},model:{value:t.settings.src_ip,callback:function(e){t.$set(t.settings,"src_ip",e)},expression:"settings.src_ip"}})],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"src_dport"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("src_dport")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-input",{attrs:{sizi:"small"},model:{value:t.settings.src_dport,callback:function(e){t.$set(t.settings,"src_dport",e)},expression:"settings.src_dport"}})],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"dest_ip"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("dest_ip")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-input",{attrs:{sizi:"small"},model:{value:t.settings.dest_ip,callback:function(e){t.$set(t.settings,"dest_ip",e)},expression:"settings.dest_ip"}})],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"dest_port"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("dest_port")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-input",{attrs:{sizi:"small"},model:{value:t.settings.dest_port,callback:function(e){t.$set(t.settings,"dest_port",e)},expression:"settings.dest_port"}})],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"target"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("target")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:t.settings.target,callback:function(e){t.$set(t.settings,"target",e)},expression:"settings.target"}},[s("el-option",{attrs:{value:"SNAT",label:"SNAT"}}),s("el-option",{attrs:{value:"DNAT",label:"DNAT"}})],1)],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"src"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("src")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:t.settings.src,callback:function(e){t.$set(t.settings,"src",e)},expression:"settings.src"}},[s("el-option",{attrs:{value:"lan",label:"lan"}}),s("el-option",{attrs:{value:"wan",label:"wan"}})],1)],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"dest"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("dest")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-select",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:t.settings.dest,callback:function(e){t.$set(t.settings,"dest",e)},expression:"settings.dest"}},[s("el-option",{attrs:{value:"lan",label:"lan"}}),s("el-option",{attrs:{value:"wan",label:"wan"}})],1)],1)])])]),s("div",{staticClass:"field-row",class:{highlight:"name"===t.hash}},[s("div",{staticClass:"field-key"},[s("span",{staticClass:"field-key-text"},[t._v("name")])]),s("div",{staticClass:"field-value"},[s("div",{staticClass:"field-value-column"},[s("div",{staticClass:"field-value-column-input"},[s("el-input",{attrs:{sizi:"small"},model:{value:t.settings.name,callback:function(e){t.$set(t.settings,"name",e)},expression:"settings.name"}})],1)])])])])])],1)},a=[],l=s("5530"),n=(s("7db0"),s("b0c0"),s("d3b7"),s("ac1f"),s("5319"),s("ab10")),c=s("2ef0"),d=s("2f62"),o=s("d967"),r={name:"RedirectEdit",data:function(){return{hash:"",settings:{enabled:"1",proto:"",src_ip:"",src_dport:"",dest_ip:"",dest_port:"",target:"",src:"",dest:"",name:""}}},computed:Object(l["a"])({},Object(d["b"])(["redirect","originalRedirect"])),watch:{$route:{handler:function(t,e){t.fullPath!==e.fullPath&&this.getData()},deep:!0},settings:{handler:function(t,e){var s=this;if(!this.$route.params.isNew){var i=this.$route.path+"?index="+t.index,a=o["a"].apply(this,[t,this.originalRedirect.find((function(e){return e.index===t.index})),i,function(e,a){return{path:i+e,data:{api:"redirect-set",snapshot:c["cloneDeep"](t),name:s.$route.name,updatedKey:e,updateValue:a,routers:[{title:s.$route.path,query:{updatedKey:e,index:t.index},params:{updatedKey:e,index:t.index}}]}}}]);a||(this.hash="")}},deep:!0}},mounted:function(){this.getData(),this.$EventBus.$on("GlobalSaveClick",this.onGlobalSaveClick)},beforeDestroy:function(){this.$EventBus.$off("GlobalSaveClick",this.onGlobalSaveClick)},methods:{getData:function(){this.$route.params.isNew||(this.settings=this.redirect[this.$route.params.index],this.hash=this.$route.params.updatedKey?this.$route.params.updatedKey:"")},onGlobalSaveClick:function(){var t=this;setTimeout((function(){t.$router.replace({name:"FirewallIndex"})}),1e3)},onSave:function(){var t=this,e=this.$loading({lock:!0,text:"Send Request...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(n["b"])({redirect:[this.settings]}).then((function(e){t.$message({message:"Success",type:"success"}),t.$store.dispatch("configs/getRedirects",!0).then((function(){})),setTimeout((function(){t.$router.replace({name:"FirewallIndex"})}),1e3)})).finally((function(){e.close()}))}}},u=r,v=s("2877"),p=Object(v["a"])(u,i,a,!1,null,"6e15a7a6",null);e["default"]=p.exports},d967:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));s("caad"),s("b64b"),s("d3b7"),s("2532"),s("159b");const i=t=>t instanceof Date,a=t=>0===Object.keys(t).length,l=t=>null!=t&&"object"===typeof t,n=(t,...e)=>Object.prototype.hasOwnProperty.call(t,...e),c=t=>l(t)&&a(t),d=()=>Object.create(null);const o=(t,e)=>t===e?{}:l(t)&&l(e)?i(t)||i(e)?t.valueOf()==e.valueOf()?{}:e:Object.keys(e).reduce((s,a)=>{if(n(t,a)){const l=o(t[a],e[a]);return!c(l)||i(l)||!c(t[a])&&c(e[a])?(s[a]=l,s):s}return s},d()):e;var r=o;function u(t,e,s,i){var a=this,l=r(t,e),n=Object.keys(l);return Object.keys(e).forEach((function(t){n.includes(t)||v.apply(a,[s+t])})),n.forEach((function(e){a.$store.dispatch("app/addRowToUnSaved",i(e,t[e]))})),n.length>0}function v(t){this.$store.dispatch("app/delRowFromUnSaved",t)}}}]);